{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api.service\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nfunction RequestListComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"span\");\n    i0.ɵɵtext(2, \"Logged in as: \");\n    i0.ɵɵelementStart(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function RequestListComponent_div_4_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.authService.logout());\n    });\n    i0.ɵɵtext(7, \"Logout\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.currentUser.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" (\", ctx_r0.currentUser.role, \")\");\n  }\n}\nfunction RequestListComponent_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵtext(1, \" + New Request \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/requests\", a1];\n};\nfunction RequestListComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"span\", 20);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 21);\n    i0.ɵɵtext(15, \"Details\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const req_r7 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(req_r7.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(req_r7.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(req_r7.priority);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.getStatusClass(req_r7.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", req_r7.status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(12, 7, req_r7.createdAt, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(10, _c0, req_r7.id));\n  }\n}\nfunction RequestListComponent_tr_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 22);\n    i0.ɵɵtext(2, \"No requests found.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction RequestListComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1, \"Loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\nclass RequestListComponent {\n  constructor(apiService, authService) {\n    this.apiService = apiService;\n    this.authService = authService;\n    this.requests = [];\n    this.statusFilter = '';\n    this.currentUser = null;\n    this.isLoading = false;\n  }\n  ngOnInit() {\n    this.authService.currentUser$.subscribe(user => {\n      this.currentUser = user;\n    });\n    this.loadRequests();\n  }\n  loadRequests() {\n    this.isLoading = true;\n    // If statusFilter is empty string, pass undefined to get all\n    const status = this.statusFilter || undefined;\n    this.apiService.getRequests(status).subscribe({\n      next: data => {\n        this.requests = data;\n        this.isLoading = false;\n      },\n      error: err => {\n        console.error('Error loading requests', err);\n        this.isLoading = false;\n      }\n    });\n  }\n  onFilterChange() {\n    this.loadRequests();\n  }\n  getStatusClass(status) {\n    switch (status) {\n      case 'Approved':\n        return 'status-approved';\n      case 'Rejected':\n        return 'status-rejected';\n      case 'Pending':\n        return 'status-pending';\n      default:\n        return '';\n    }\n  }\n  static {\n    this.ɵfac = function RequestListComponent_Factory(t) {\n      return new (t || RequestListComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RequestListComponent,\n      selectors: [[\"app-request-list\"]],\n      decls: 39,\n      vars: 6,\n      consts: [[1, \"container\"], [1, \"page-header\"], [\"class\", \"user-info\", 4, \"ngIf\"], [1, \"actions-bar\"], [1, \"filter-group\"], [\"for\", \"statusFilter\"], [\"id\", \"statusFilter\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"\"], [\"value\", \"Pending\"], [\"value\", \"Approved\"], [\"value\", \"Rejected\"], [\"class\", \"btn btn-primary\", \"routerLink\", \"/requests/new\", 4, \"ngIf\"], [1, \"table-responsive\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [1, \"user-info\"], [1, \"btn\", \"btn-outline\", 3, \"click\"], [\"routerLink\", \"/requests/new\", 1, \"btn\", \"btn-primary\"], [1, \"status-badge\", 3, \"ngClass\"], [1, \"btn\", \"btn-sm\", 3, \"routerLink\"], [\"colspan\", \"6\", 1, \"text-center\"], [1, \"loading\"]],\n      template: function RequestListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"Request Workflow\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(4, RequestListComponent_div_4_Template, 8, 2, \"div\", 2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"label\", 5);\n          i0.ɵɵtext(8, \"Filter by Status:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"select\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function RequestListComponent_Template_select_ngModelChange_9_listener($event) {\n            return ctx.statusFilter = $event;\n          })(\"change\", function RequestListComponent_Template_select_change_9_listener() {\n            return ctx.onFilterChange();\n          });\n          i0.ɵɵelementStart(10, \"option\", 7);\n          i0.ɵɵtext(11, \"All\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"option\", 8);\n          i0.ɵɵtext(13, \"Pending\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"option\", 9);\n          i0.ɵɵtext(15, \"Approved\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"option\", 10);\n          i0.ɵɵtext(17, \"Rejected\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(18, RequestListComponent_button_18_Template, 2, 0, \"button\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"div\", 12)(20, \"table\", 13)(21, \"thead\")(22, \"tr\")(23, \"th\");\n          i0.ɵɵtext(24, \"Title\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"th\");\n          i0.ɵɵtext(26, \"Category\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"th\");\n          i0.ɵɵtext(28, \"Priority\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"th\");\n          i0.ɵɵtext(30, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"th\");\n          i0.ɵɵtext(32, \"Created At\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"th\");\n          i0.ɵɵtext(34, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(35, \"tbody\");\n          i0.ɵɵtemplate(36, RequestListComponent_tr_36_Template, 16, 12, \"tr\", 14);\n          i0.ɵɵtemplate(37, RequestListComponent_tr_37_Template, 3, 0, \"tr\", 15);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(38, RequestListComponent_div_38_Template, 2, 0, \"div\", 16);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.currentUser);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.statusFilter);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngIf\", (ctx.currentUser == null ? null : ctx.currentUser.role) === \"User\");\n          i0.ɵɵadvance(18);\n          i0.ɵɵproperty(\"ngForOf\", ctx.requests);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.requests.length === 0 && !ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.RouterLink, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgModel, i3.DatePipe],\n      styles: [\".container[_ngcontent-%COMP%] {\\n  max-width: 1000px;\\n  margin: 0 auto;\\n  padding: 20px;\\n}\\n\\n.page-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 20px;\\n  border-bottom: 1px solid #eee;\\n  padding-bottom: 10px;\\n}\\n\\n.user-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 15px;\\n  align-items: center;\\n}\\n\\n.actions-bar[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 20px;\\n  background-color: #f9f9f9;\\n  padding: 15px;\\n  border-radius: 8px;\\n}\\n\\n.filter-group[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n}\\n\\n.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n  padding: 5px;\\n  border-radius: 4px;\\n  border: 1px solid #ccc;\\n}\\n\\n.table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n  margin-top: 10px;\\n}\\n\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 12px;\\n  text-align: left;\\n  border-bottom: 1px solid #ddd;\\n}\\n\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  background-color: #f2f2f2;\\n}\\n\\n.status-badge[_ngcontent-%COMP%] {\\n  padding: 4px 8px;\\n  border-radius: 12px;\\n  font-size: 0.85em;\\n  font-weight: bold;\\n}\\n\\n.status-pending[_ngcontent-%COMP%] {\\n  background-color: #fff3cd;\\n  color: #856404;\\n}\\n\\n.status-approved[_ngcontent-%COMP%] {\\n  background-color: #d4edda;\\n  color: #155724;\\n}\\n\\n.status-rejected[_ngcontent-%COMP%] {\\n  background-color: #f8d7da;\\n  color: #721c24;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  padding: 8px 16px;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-size: 14px;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background-color: #007bff;\\n  color: white;\\n}\\n\\n.btn-outline[_ngcontent-%COMP%] {\\n  background-color: transparent;\\n  border: 1px solid #dc3545;\\n  color: #dc3545;\\n}\\n\\n.btn-sm[_ngcontent-%COMP%] {\\n  padding: 4px 8px;\\n  background-color: #6c757d;\\n  color: white;\\n}\\n\\n.text-center[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 20px;\\n  color: #666;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9yZXF1ZXN0LWxpc3QvcmVxdWVzdC1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBaUI7RUFDakIsY0FBYztFQUNkLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsbUJBQW1CO0VBQ25CLG1CQUFtQjtFQUNuQiw2QkFBNkI7RUFDN0Isb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFNBQVM7RUFDVCxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIseUJBQXlCO0VBQ3pCLGFBQWE7RUFDYixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFNBQVM7QUFDWDs7QUFFQTtFQUNFLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsV0FBVztFQUNYLHlCQUF5QjtFQUN6QixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsaUJBQWlCO0VBQ2pCLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLDZCQUE2QjtFQUM3Qix5QkFBeUI7RUFDekIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQix5QkFBeUI7RUFDekIsWUFBWTtBQUNkOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixXQUFXO0FBQ2IiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgbWF4LXdpZHRoOiAxMDAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBwYWRkaW5nOiAyMHB4O1xufVxuXG4ucGFnZS1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO1xuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuLnVzZXItaW5mbyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMTVweDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmFjdGlvbnMtYmFyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xuICBwYWRkaW5nOiAxNXB4O1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG59XG5cbi5maWx0ZXItZ3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDEwcHg7XG59XG5cbi5maWx0ZXItZ3JvdXAgc2VsZWN0IHtcbiAgcGFkZGluZzogNXB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG59XG5cbi50YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG4udGFibGUgdGgsIC50YWJsZSB0ZCB7XG4gIHBhZGRpbmc6IDEycHg7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xufVxuXG4udGFibGUgdGgge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xufVxuXG4uc3RhdHVzLWJhZGdlIHtcbiAgcGFkZGluZzogNHB4IDhweDtcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgZm9udC1zaXplOiAwLjg1ZW07XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uc3RhdHVzLXBlbmRpbmcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmM2NkO1xuICBjb2xvcjogIzg1NjQwNDtcbn1cblxuLnN0YXR1cy1hcHByb3ZlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNkNGVkZGE7XG4gIGNvbG9yOiAjMTU1NzI0O1xufVxuXG4uc3RhdHVzLXJlamVjdGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZDdkYTtcbiAgY29sb3I6ICM3MjFjMjQ7XG59XG5cbi5idG4ge1xuICBwYWRkaW5nOiA4cHggMTZweDtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4uYnRuLXByaW1hcnkge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5idG4tb3V0bGluZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICBib3JkZXI6IDFweCBzb2xpZCAjZGMzNTQ1O1xuICBjb2xvcjogI2RjMzU0NTtcbn1cblxuLmJ0bi1zbSB7XG4gIHBhZGRpbmc6IDRweCA4cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICM2Yzc1N2Q7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnRleHQtY2VudGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ubG9hZGluZyB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogMjBweDtcbiAgY29sb3I6ICM2NjY7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}\nexport { RequestListComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","RequestListComponent_div_4_Template_button_click_6_listener","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","authService","logout","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","currentUser","name","ɵɵtextInterpolate1","role","req_r7","title","category","priority","ɵɵproperty","ctx_r2","getStatusClass","status","ɵɵpipeBind2","createdAt","ɵɵpureFunction1","_c0","id","RequestListComponent","constructor","apiService","requests","statusFilter","isLoading","ngOnInit","currentUser$","subscribe","user","loadRequests","undefined","getRequests","next","data","error","err","console","onFilterChange","ɵɵdirectiveInject","i1","ApiService","i2","AuthService","selectors","decls","vars","consts","template","RequestListComponent_Template","rf","ctx","ɵɵtemplate","RequestListComponent_div_4_Template","RequestListComponent_Template_select_ngModelChange_9_listener","$event","RequestListComponent_Template_select_change_9_listener","RequestListComponent_button_18_Template","RequestListComponent_tr_36_Template","RequestListComponent_tr_37_Template","RequestListComponent_div_38_Template","length"],"sources":["/home/coder/case-workflow/frontend/src/app/components/request-list/request-list.component.ts","/home/coder/case-workflow/frontend/src/app/components/request-list/request-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../../services/api.service';\nimport { AuthService, User } from '../../services/auth.service';\nimport { RequestResponseDto } from '../../models/api.models';\n\n@Component({\n  selector: 'app-request-list',\n  templateUrl: './request-list.component.html',\n  styleUrls: ['./request-list.component.css']\n})\nexport class RequestListComponent implements OnInit {\n  requests: RequestResponseDto[] = [];\n  statusFilter: string = '';\n  currentUser: User | null = null;\n  isLoading = false;\n\n  constructor(\n    private apiService: ApiService,\n    public authService: AuthService\n  ) {}\n\n  ngOnInit(): void {\n    this.authService.currentUser$.subscribe(user => {\n      this.currentUser = user;\n    });\n    this.loadRequests();\n  }\n\n  loadRequests(): void {\n    this.isLoading = true;\n    // If statusFilter is empty string, pass undefined to get all\n    const status = this.statusFilter || undefined;\n    \n    this.apiService.getRequests(status).subscribe({\n      next: (data) => {\n        this.requests = data;\n        this.isLoading = false;\n      },\n      error: (err) => {\n        console.error('Error loading requests', err);\n        this.isLoading = false;\n      }\n    });\n  }\n\n  onFilterChange(): void {\n    this.loadRequests();\n  }\n  \n  getStatusClass(status: string): string {\n    switch (status) {\n      case 'Approved': return 'status-approved';\n      case 'Rejected': return 'status-rejected';\n      case 'Pending': return 'status-pending';\n      default: return '';\n    }\n  }\n}","<div class=\"container\">\n  <header class=\"page-header\">\n    <h2>Request Workflow</h2>\n    <div class=\"user-info\" *ngIf=\"currentUser\">\n      <span>Logged in as: <strong>{{ currentUser.name }}</strong> ({{ currentUser.role }})</span>\n      <button class=\"btn btn-outline\" (click)=\"authService.logout()\">Logout</button>\n    </div>\n  </header>\n\n  <div class=\"actions-bar\">\n    <div class=\"filter-group\">\n      <label for=\"statusFilter\">Filter by Status:</label>\n      <select id=\"statusFilter\" [(ngModel)]=\"statusFilter\" (change)=\"onFilterChange()\">\n        <option value=\"\">All</option>\n        <option value=\"Pending\">Pending</option>\n        <option value=\"Approved\">Approved</option>\n        <option value=\"Rejected\">Rejected</option>\n      </select>\n    </div>\n\n    <!-- Only Users can create new requests -->\n    <button *ngIf=\"currentUser?.role === 'User'\" class=\"btn btn-primary\" routerLink=\"/requests/new\">\n      + New Request\n    </button>\n  </div>\n\n  <div class=\"table-responsive\">\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th>Title</th>\n          <th>Category</th>\n          <th>Priority</th>\n          <th>Status</th>\n          <th>Created At</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let req of requests\">\n          <td>{{ req.title }}</td>\n          <td>{{ req.category }}</td>\n          <td>{{ req.priority }}</td>\n          <td>\n            <span class=\"status-badge\" [ngClass]=\"getStatusClass(req.status)\">\n              {{ req.status }}\n            </span>\n          </td>\n          <td>{{ req.createdAt | date:'short' }}</td>\n          <td>\n            <button class=\"btn btn-sm\" [routerLink]=\"['/requests', req.id]\">Details</button>\n          </td>\n        </tr>\n        <tr *ngIf=\"requests.length === 0 && !isLoading\">\n          <td colspan=\"6\" class=\"text-center\">No requests found.</td>\n        </tr>\n      </tbody>\n    </table>\n    <div *ngIf=\"isLoading\" class=\"loading\">Loading...</div>\n  </div>\n</div>"],"mappings":";;;;;;;;;ICGIA,EAAA,CAAAC,cAAA,cAA2C;IACnCD,EAAA,CAAAE,MAAA,qBAAc;IAAAF,EAAA,CAAAC,cAAA,aAAQ;IAAAD,EAAA,CAAAE,MAAA,GAAsB;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAACH,EAAA,CAAAE,MAAA,GAAwB;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAC3FH,EAAA,CAAAC,cAAA,iBAA+D;IAA/BD,EAAA,CAAAI,UAAA,mBAAAC,4DAAA;MAAAL,EAAA,CAAAM,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAR,EAAA,CAAAS,aAAA;MAAA,OAAST,EAAA,CAAAU,WAAA,CAAAF,MAAA,CAAAG,WAAA,CAAAC,MAAA,EAAoB;IAAA,EAAC;IAACZ,EAAA,CAAAE,MAAA,aAAM;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IADlDH,EAAA,CAAAa,SAAA,GAAsB;IAAtBb,EAAA,CAAAc,iBAAA,CAAAC,MAAA,CAAAC,WAAA,CAAAC,IAAA,CAAsB;IAAUjB,EAAA,CAAAa,SAAA,GAAwB;IAAxBb,EAAA,CAAAkB,kBAAA,OAAAH,MAAA,CAAAC,WAAA,CAAAG,IAAA,MAAwB;;;;;IAiBtFnB,EAAA,CAAAC,cAAA,iBAAgG;IAC9FD,EAAA,CAAAE,MAAA,sBACF;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;;;;;IAgBLH,EAAA,CAAAC,cAAA,SAAiC;IAC3BD,EAAA,CAAAE,MAAA,GAAe;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACxBH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC3BH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC3BH,EAAA,CAAAC,cAAA,SAAI;IAEAD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAO;IAETH,EAAA,CAAAC,cAAA,UAAI;IAAAD,EAAA,CAAAE,MAAA,IAAkC;;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC3CH,EAAA,CAAAC,cAAA,UAAI;IAC8DD,EAAA,CAAAE,MAAA,eAAO;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;;IAV9EH,EAAA,CAAAa,SAAA,GAAe;IAAfb,EAAA,CAAAc,iBAAA,CAAAM,MAAA,CAAAC,KAAA,CAAe;IACfrB,EAAA,CAAAa,SAAA,GAAkB;IAAlBb,EAAA,CAAAc,iBAAA,CAAAM,MAAA,CAAAE,QAAA,CAAkB;IAClBtB,EAAA,CAAAa,SAAA,GAAkB;IAAlBb,EAAA,CAAAc,iBAAA,CAAAM,MAAA,CAAAG,QAAA,CAAkB;IAEOvB,EAAA,CAAAa,SAAA,GAAsC;IAAtCb,EAAA,CAAAwB,UAAA,YAAAC,MAAA,CAAAC,cAAA,CAAAN,MAAA,CAAAO,MAAA,EAAsC;IAC/D3B,EAAA,CAAAa,SAAA,GACF;IADEb,EAAA,CAAAkB,kBAAA,MAAAE,MAAA,CAAAO,MAAA,MACF;IAEE3B,EAAA,CAAAa,SAAA,GAAkC;IAAlCb,EAAA,CAAAc,iBAAA,CAAAd,EAAA,CAAA4B,WAAA,QAAAR,MAAA,CAAAS,SAAA,WAAkC;IAET7B,EAAA,CAAAa,SAAA,GAAoC;IAApCb,EAAA,CAAAwB,UAAA,eAAAxB,EAAA,CAAA8B,eAAA,KAAAC,GAAA,EAAAX,MAAA,CAAAY,EAAA,EAAoC;;;;;IAGnEhC,EAAA,CAAAC,cAAA,SAAgD;IACVD,EAAA,CAAAE,MAAA,yBAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;;IAIjEH,EAAA,CAAAC,cAAA,cAAuC;IAAAD,EAAA,CAAAE,MAAA,iBAAU;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;ADrD3D,MAKa8B,oBAAoB;EAM/BC,YACUC,UAAsB,EACvBxB,WAAwB;IADvB,KAAAwB,UAAU,GAAVA,UAAU;IACX,KAAAxB,WAAW,GAAXA,WAAW;IAPpB,KAAAyB,QAAQ,GAAyB,EAAE;IACnC,KAAAC,YAAY,GAAW,EAAE;IACzB,KAAArB,WAAW,GAAgB,IAAI;IAC/B,KAAAsB,SAAS,GAAG,KAAK;EAKd;EAEHC,QAAQA,CAAA;IACN,IAAI,CAAC5B,WAAW,CAAC6B,YAAY,CAACC,SAAS,CAACC,IAAI,IAAG;MAC7C,IAAI,CAAC1B,WAAW,GAAG0B,IAAI;IACzB,CAAC,CAAC;IACF,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAYA,CAAA;IACV,IAAI,CAACL,SAAS,GAAG,IAAI;IACrB;IACA,MAAMX,MAAM,GAAG,IAAI,CAACU,YAAY,IAAIO,SAAS;IAE7C,IAAI,CAACT,UAAU,CAACU,WAAW,CAAClB,MAAM,CAAC,CAACc,SAAS,CAAC;MAC5CK,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACX,QAAQ,GAAGW,IAAI;QACpB,IAAI,CAACT,SAAS,GAAG,KAAK;MACxB,CAAC;MACDU,KAAK,EAAGC,GAAG,IAAI;QACbC,OAAO,CAACF,KAAK,CAAC,wBAAwB,EAAEC,GAAG,CAAC;QAC5C,IAAI,CAACX,SAAS,GAAG,KAAK;MACxB;KACD,CAAC;EACJ;EAEAa,cAAcA,CAAA;IACZ,IAAI,CAACR,YAAY,EAAE;EACrB;EAEAjB,cAAcA,CAACC,MAAc;IAC3B,QAAQA,MAAM;MACZ,KAAK,UAAU;QAAE,OAAO,iBAAiB;MACzC,KAAK,UAAU;QAAE,OAAO,iBAAiB;MACzC,KAAK,SAAS;QAAE,OAAO,gBAAgB;MACvC;QAAS,OAAO,EAAE;;EAEtB;;;uBA9CWM,oBAAoB,EAAAjC,EAAA,CAAAoD,iBAAA,CAAAC,EAAA,CAAAC,UAAA,GAAAtD,EAAA,CAAAoD,iBAAA,CAAAG,EAAA,CAAAC,WAAA;IAAA;EAAA;;;YAApBvB,oBAAoB;MAAAwB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCVjC/D,EAAA,CAAAC,cAAA,aAAuB;UAEfD,EAAA,CAAAE,MAAA,uBAAgB;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACzBH,EAAA,CAAAiE,UAAA,IAAAC,mCAAA,iBAGM;UACRlE,EAAA,CAAAG,YAAA,EAAS;UAETH,EAAA,CAAAC,cAAA,aAAyB;UAEKD,EAAA,CAAAE,MAAA,wBAAiB;UAAAF,EAAA,CAAAG,YAAA,EAAQ;UACnDH,EAAA,CAAAC,cAAA,gBAAiF;UAAvDD,EAAA,CAAAI,UAAA,2BAAA+D,8DAAAC,MAAA;YAAA,OAAAJ,GAAA,CAAA3B,YAAA,GAAA+B,MAAA;UAAA,EAA0B,oBAAAC,uDAAA;YAAA,OAAWL,GAAA,CAAAb,cAAA,EAAgB;UAAA,EAA3B;UAClDnD,EAAA,CAAAC,cAAA,iBAAiB;UAAAD,EAAA,CAAAE,MAAA,WAAG;UAAAF,EAAA,CAAAG,YAAA,EAAS;UAC7BH,EAAA,CAAAC,cAAA,iBAAwB;UAAAD,EAAA,CAAAE,MAAA,eAAO;UAAAF,EAAA,CAAAG,YAAA,EAAS;UACxCH,EAAA,CAAAC,cAAA,iBAAyB;UAAAD,EAAA,CAAAE,MAAA,gBAAQ;UAAAF,EAAA,CAAAG,YAAA,EAAS;UAC1CH,EAAA,CAAAC,cAAA,kBAAyB;UAAAD,EAAA,CAAAE,MAAA,gBAAQ;UAAAF,EAAA,CAAAG,YAAA,EAAS;UAK9CH,EAAA,CAAAiE,UAAA,KAAAK,uCAAA,qBAES;UACXtE,EAAA,CAAAG,YAAA,EAAM;UAENH,EAAA,CAAAC,cAAA,eAA8B;UAIlBD,EAAA,CAAAE,MAAA,aAAK;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACdH,EAAA,CAAAC,cAAA,UAAI;UAAAD,EAAA,CAAAE,MAAA,gBAAQ;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACjBH,EAAA,CAAAC,cAAA,UAAI;UAAAD,EAAA,CAAAE,MAAA,gBAAQ;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACjBH,EAAA,CAAAC,cAAA,UAAI;UAAAD,EAAA,CAAAE,MAAA,cAAM;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACfH,EAAA,CAAAC,cAAA,UAAI;UAAAD,EAAA,CAAAE,MAAA,kBAAU;UAAAF,EAAA,CAAAG,YAAA,EAAK;UACnBH,EAAA,CAAAC,cAAA,UAAI;UAAAD,EAAA,CAAAE,MAAA,eAAO;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAGpBH,EAAA,CAAAC,cAAA,aAAO;UACLD,EAAA,CAAAiE,UAAA,KAAAM,mCAAA,mBAaK;UACLvE,EAAA,CAAAiE,UAAA,KAAAO,mCAAA,iBAEK;UACPxE,EAAA,CAAAG,YAAA,EAAQ;UAEVH,EAAA,CAAAiE,UAAA,KAAAQ,oCAAA,kBAAuD;UACzDzE,EAAA,CAAAG,YAAA,EAAM;;;UAxDoBH,EAAA,CAAAa,SAAA,GAAiB;UAAjBb,EAAA,CAAAwB,UAAA,SAAAwC,GAAA,CAAAhD,WAAA,CAAiB;UASbhB,EAAA,CAAAa,SAAA,GAA0B;UAA1Bb,EAAA,CAAAwB,UAAA,YAAAwC,GAAA,CAAA3B,YAAA,CAA0B;UAS7CrC,EAAA,CAAAa,SAAA,GAAkC;UAAlCb,EAAA,CAAAwB,UAAA,UAAAwC,GAAA,CAAAhD,WAAA,kBAAAgD,GAAA,CAAAhD,WAAA,CAAAG,IAAA,aAAkC;UAkBnBnB,EAAA,CAAAa,SAAA,IAAW;UAAXb,EAAA,CAAAwB,UAAA,YAAAwC,GAAA,CAAA5B,QAAA,CAAW;UAc1BpC,EAAA,CAAAa,SAAA,GAAyC;UAAzCb,EAAA,CAAAwB,UAAA,SAAAwC,GAAA,CAAA5B,QAAA,CAAAsC,MAAA,WAAAV,GAAA,CAAA1B,SAAA,CAAyC;UAK5CtC,EAAA,CAAAa,SAAA,GAAe;UAAfb,EAAA,CAAAwB,UAAA,SAAAwC,GAAA,CAAA1B,SAAA,CAAe;;;;;;;;SDhDZL,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}